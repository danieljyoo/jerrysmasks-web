<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Medical-grade FDA Authorized Masks & Respirators</title>
    <link rel="stylesheet" href="/css/tailwind.css">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.0.1/dist/alpine.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/js/env.js"></script>
  </head>
  <body>
    <!-- HERO -->
    <div x-data="{ open: false }" class="relative pt-6 pb-12 sm:pb-16 md:pb-20 lg:pb-28 xl:pb-32">
      <div class="mt-10 mx-auto max-w-screen-lg px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 xl:mt-28">
        <div class="text-center">
          <h2 class="text-3xl tracking-tight leading-10 font-extrabold text-gray-900 sm:text-5xl sm:leading-none md:text-6xl">
            FDA Authorized <br/><span class="text-indigo-600">Masks and Respirators</span>
          </h2>
          <p class="mt-3 max-w-screen-sm mb-8 mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
            All the products below are FDA authorized and from factories that we have personal and trusted relationships with.
          </p>
          <div class="rounded-md bg-blue-50 p-4 text-center max-w-md mx-auto">
            <div class="flex">
              <div class="ml-3 flex-1 md:flex md:justify-center">
                <p class="text-sm leading-5 text-blue-700">
                  We are currently only accepting orders from hospitals, nursing homes, homeless shelters, and other institutions that care for the most vulnerable.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- HERO END -->

  <!-- PURISM KN95 -->
  <div class="bg-white py-16 px-4 overflow-hidden sm:px-6 lg:px-8 lg:py-24">
  
    <div class="relative max-w-xl mx-auto">
      <div class="text-center">
        <h2 class="text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10">
          Purism 4-Layer KN95 Mask
        </h2>
        <p class="mt-4 text-lg leading-6 text-gray-500">
          <span class="font-extrabold">$50.00</span> for a box of 20 masks
        </p>
        <p class="text-sm leading-6 text-gray-500">
          ($2.50 per mask)
        </p>
      </div>
      <div class="relative max-w-xl mx-auto">
        <img class="mt-6" src="/img/mask-purism-box.jpeg"/>
      </div>
      <div class="flex mb-4">
        <div class="w-1/2">
          <img class="" src="/img/mask-model-front.jpeg"/>
        </div>
        <div class="w-1/2 h-12">
          <img class="" src="/img/mask-model.jpeg"/>
        </div>
      </div>
      <div class="mt-12">
        <h3 class="text-2xl font-extrabold">FDA Authorized</h3>
        <p class="mt-4 text-md leading-6 text-gray-500">
          This product and manufacturer is listed by the FDA in <a href="https://www.fda.gov/media/136663/download" class="text-blue-700">Appendix A: Authorized Respirators</a>.
        </p>
        <div class="relative max-w-xl mx-auto">
          <img class="mt-6" src="/img/appendixa.jpg"/>
          <hr class="border-dashed border-gray-300 border-2"/>
          <img class="mb-6" src="/img/appendixa-daddychoice.jpg"/>
        </div>
      </div>
      <div class="mt-12">
        <h3 class="text-2xl font-extrabold">About the Manufacturer</h3>
        <p class="mt-4 text-md leading-6 text-gray-500">
          Daddyâ€™s Choice was established in Beijing in early 2015. In order to ensure the safety and quality of products from the source, they have carefully selected the industry's top raw material suppliers for long-term cooperation and signed an honest supplier agreement with more than 20 suppliers including 3M.
        </p>
        <div class="relative max-w-xl mx-auto">
          <img class="mt-6 mb-1" src="/img/daddyschoice-factory.png"/>
        </div>
        <div class="flex mb-4">
          <div class="w-2/3 pr-1">
            <img class="" src="/img/daddychoice-factory-1.jpeg"/>
          </div>
          <div class="w-1/3">
            <img class="h-72" src="/img/daddychoice-factory-2.jpeg"/>
          </div>
        </div>
      </div>
      <div class="mt-12">
        <h3 class="text-2xl font-extrabold">Shipping and Delivery Times</h3>
        <p class="mt-4 text-md leading-6 text-gray-500">
          $XYZ and arrives in 3-5 days for orders less than 10,000 masks.<br/>
          $ABC and arrives in 14-21 days for orders greater than 10,000 masks. 
        </p>
      </div>
      <div class="mt-12 bg-blue-100 rounded-lg pr-8 pt-8 pl-8 pb-8">
        <div class="text-center">
          <h2 class="text-3xl mb-6 leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10">
            Order
          </h2>
        </div>
        <form x-data="{ data: { quantity: 5, units: 20, cost: 50, shipping: 'Domestic', product: 'purism-kn95' }, submit: submitOrder }">
          <div>
            <h3 class="text-lg leading-6 font-medium text-gray-900">
              Purism 4-Layer KN95 Mask
            </h3>
            <p class="mt-1 max-w-2xl text-sm leading-5 text-gray-500">
              <span class="font-bold">$50.00</span> for a box of 20 masks ($2.50 per mask)
            </p>
          </div>
          <div class="mt-6 grid grid-cols-1 row-gap-6 col-gap-4 sm:grid-cols-6">
            <div class="sm:col-span-4">
              <label for="quantity" class="block text-sm font-medium leading-5 text-gray-700">
                Number of boxes (20 masks)
              </label>
              <div class="mt-1 rounded-md shadow-sm w-1/2">
                <input x-model="data.quantity" id="quantity" type="number" class="form-input block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5" />
              </div>
              <div class="text-xs mt-1 ml-1 text-gray-400">
                <span class="font-bold">$<span x-text="data.quantity * data.cost"></span>.00</span> for <span x-text="data.quantity * data.units"></span> masks
              </div>
            </div>
            <div class="sm:col-span-3">
              <label for="shipping" class="block text-sm font-medium leading-5 text-gray-700">
                Shipping method
              </label>
              <div class="mt-1 rounded-md shadow-sm">
                <select x-model="data.shipping" id="shipping" class="form-select block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5">
                  <option value="Domestic">3-5 days (Domestic)</option>
                  <option value="International">14-21 days (International)</option>
                </select>
              </div>
              <div class="text-xs mt-1 ml-1 text-gray-400">
                <span class="font-bold">$<span x-text="calcShippingCost(data.quantity, data.shipping)"></span>.00</span> for <span x-text="calcShippingTime(data.quantity, data.shipping)"> </span> days <span x-text="data.shipping"></span> shipping
              </div>
            </div>
            <div class="sm:col-span-4">
                Total Cost: <span class="font-bold">$<span x-text="data.quantity * data.cost + calcShippingCost(data.quantity, data.shipping)"></span>.00</span> (<span x-text="data.quantity * data.units"></span> masks)
            </div>
            <div class="sm:col-span-6">
              <span class="w-full inline-flex rounded-md shadow-sm">
                <button x-on:click="submit(data)" type="button" class="w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition ease-in-out duration-150">
                  Purchase
                </button>
              </span>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <div class="bg-white">
    <div class="max-w-screen-xl mx-auto py-12 px-4 sm:px-6 md:flex md:items-center md:justify-between lg:px-8">
      <div class="mt-8 md:mt-0 md:order-1 mx-auto">
        <p class="text-center text-base leading-6 text-gray-400">
          &copy; 2020 Funcmatic Inc.
        </p>
      </div>
    </div>
  </div>
  <!-- FOOTER END -->
  <script type="text/javascript">

    function calcShippingCost(quantity, shipping) {
      switch(shipping) {
        case "Domestic":
          return 15
        case "International":
          return 300
      }
    }

    function calcShippingTime(quantity, shipping) {
      switch(shipping) {
        case "Domestic":
          return "3-5"
        case "International":
          return "14-21"
      }
    }

    var stripe = Stripe(STRIPE_PUBLISHABLE_KEY);
  
    function verifyOrderForm() {
  
    }
  
    function submitOrder(form) {
      console.log(form);
      axios.post(BASE_URL + '/stripe/checkout', form)
      .then((response) => {
        // https://stripe.com/docs/payments/checkout/one-time
        console.log(response.data)
        return stripe.redirectToCheckout({
          sessionId: response.data.id
        })
      })
      .then(function (result) {
        // If `redirectToCheckout` fails due to a browser or network
        // error, display the localized error message to your customer
        // using `result.error.message`.
        console.log('Stripe result', result);
      })
      .catch((err) => {
        console.log(err);
        alert(err.message);
      }) 
    }
    </script>
  </body>
</html>